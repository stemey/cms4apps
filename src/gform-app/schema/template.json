{
    "id": "/template",
    "description": "A template",
    "editor": "tab",
    "groups": [
        {
            "code": "general",
            "label": "General",
            "attributes": [
                {
                    "code": "name",
                    "type": "string",
                    "required":true
                },
                {
                    "code": "description",
                    "type": "string"
                },
                {
                    "code": "partial",
                    "type": "boolean",
                    "description": "the value of a referenced partial is the rendered html fragment."
                },
                {
                    "code": "schema",
                    "type": "string",
                    "required": true,
                    "values": ["template"]
                }
            ]
        },
        {
            "code": "template",
            "label": "Template",
            "editor": "single",
            "attribute": {
                "code": "sourceCode",
                "editor": "acetext",
                "height": "300px",
                "type": "string",
                "mode": "ace/mode/handlebars",
                "autoComplete": true
            }

        },
        {
            "code": "partials",
            "label": "Partials",
            "attributes": [
                {
                    "code": "partials",
                    "type": "map",
                    "keyAttribute": {},
                    "valueAttribute": {
                        "type":"ref",
                        "typeProperty": "template",
                        "idProperty": "identifier",
                        "url": {"$ref":"pageStore"},
                        "searchProperty": "url"

                    }
                },
                {
                    "code": "partialTemplates",
                    "type": "map",
                    "keyAttribute": {},
                    "valueAttribute": {
                        "type": "ref",
                        "searchProperty": "name",
                        "idProperty":"code",
                        "converter":"refConverter",
                        "url": "/template",
                        "schemaUrl": "/template"

                    }
                }
            ]
        },
        {
            "code": "form",
            "label": "Form",
            "attributes": [
            ]
        }
    ]
}
